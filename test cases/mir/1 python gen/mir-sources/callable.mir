;; COPYRIGHT (c) 2020 by Featuremine Corporation.
;; This software has been provided pursuant to a License Agreement
;; containing restrictions on its use.  This software contains
;; valuable trade secrets and proprietary information of
;; Featuremine Corporation and is protected by law.  It may not be
;; copied or distributed in any form or medium, disclosed to third
;; parties, reverse engineered or used in any manner not provided
;; for in said License Agreement except with the prior written
;; authorization from Featuremine Corporation.

#lang s-exp mir

(def-module callable
    [brief "Module for callable testing"]
    [doc "Callable tests"]
    [namespace callable]
    [require ])

(def-struct Test
    [brief "Test"]
    [doc "test"]
    [def-member calbl
        [brief "Test"]
        [type (def-callable
            [def-arg d
                [brief "double value"]
                [type double]]
            [def-return 
                [brief "Result."]
                [type (def-callable
                    [def-arg d
                        [brief "double value"]
                        [type double]]
                    [def-return 
                        [brief "Result."]
                        [type (def-callable)]])]])]]
    [def-method double_callable
        [brief "callable"]
        [doc  "callable"]
        [def-arg callable
            [brief "callable"]
            [type (def-callable
                [def-arg d
                    [brief "double value"]
                    [type double]]
                [def-return 
                    [brief "Result."]
                    [type (def-callable
                        [def-arg d
                            [brief "double value"]
                            [type double]]
                        [def-return 
                            [brief "Result."]
                            [type (def-callable)]])]])]]
                    
        [def-return 
            [brief "callable"]
            [type (def-callable)]]])


(def-class TestClass
    [brief "Test"]
    [doc "test"]
    [def-constructor
        [def-arg d
            [brief "callable"]
            [type (def-callable)]]]
    [def-member calbl
        [brief "Test"]
        [type (def-callable
            [def-arg d
                [brief "double value"]
                [type double]]
            [def-return 
                [brief "Result."]
                [type (def-callable
                    [def-arg d
                        [brief "double value"]
                        [type double]]
                    [def-return 
                        [brief "Result."]
                        [type (def-callable)]])]])]]
    [def-method double_callable
        [brief "callable"]
        [doc  "callable"]
        [def-arg callable
            [brief "callable"]
            [type (def-callable
                [def-arg d
                    [brief "double value"]
                    [type double]]
                [def-return 
                    [brief "Result."]
                    [type (def-callable
                        [def-arg d
                            [brief "double value"]
                            [type double]]
                        [def-return 
                            [brief "Result."]
                            [type (def-callable)]])]])]]
                    
        [def-return 
            [brief "callable"]
            [type (def-callable)]]])